/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.require("i2d.pp.mrpcockpit.reuse.view.S1parent");jQuery.sap.require("i2d.pp.prdorderissue.monitor.util.Formatter");jQuery.sap.require("sap.m.TablePersoController");jQuery.sap.require("i2d.pp.mrpcockpit.reuse.util.CommonFormatter");i2d.pp.mrpcockpit.reuse.view.S1parent.extend("i2d.pp.prdorderissue.monitor.view.S1",{onInit:function(){this.masterTitle="FULLSCREEN_TITLE";this.sViewNumber="v312";var f=[];var n={listKey:"MfgOrderProgressStatus",active:true,selectedItemKeys:[]};f.push(n);n={listKey:"LatenessDurationInWorkDays",active:true,selectedItemKeys:[]};f.push(n);n={listKey:"MaximumDelayInWorkDays",active:true,selectedItemKeys:[]};f.push(n);n={listKey:"DurnPlndStatusToTodayInWrkdays",active:true,selectedItemKeys:[]};f.push(n);this.oDefaultVariantData={MaterialShortageDefinitionID:"",TimeHorizon:"7",FacetFilterState:f,TableState:{},SortKey:"",SortDescending:false};i2d.pp.mrpcockpit.reuse.view.S1parent.prototype.onInit.call(this);i2d.pp.prdorderissue.monitor.util.Formatter.oResourceBundle=this.oApplicationFacade.getResourceBundle();this.oResourceBundle=this.oApplicationFacade.getResourceBundle();this.aDefaultSorting=new Array();this.aDefaultSorting[0]=new Array("MaterialExternalID",3);this.aDefaultSorting[1]=new Array("MaterialName");this.aDefaultSorting[2]=new Array("ManufacturingOrderTypeName");this.aDefaultSorting[3]=new Array("MRPElementOpenQuantity");this.aDefaultSorting[4]=new Array("LateSupplyQuantity");this.aDefaultSorting[5]=new Array("MRPElement",4);this.aDefaultSorting[6]=new Array("LateSupplyEarliestDemandDate");this.aDefaultSorting[7]=new Array("LatenessDurationInWorkDays");this.aDefaultSorting[8]=new Array("MfgOrderPlannedStartDate",1);this.aDefaultSorting[9]=new Array("MfgOrderPlannedEndDate",2);this.aDefaultSorting[10]=new Array("MRPController");this.aDefaultSorting[11]=new Array("MRPPlant");this.aDefaultSorting[12]=new Array("MRPArea");this.aDefaultSorting[13]=new Array("NumberOfComponentsWithProblems");this.aDefaultSorting[14]=new Array("MaximumDelayInWorkDays");this.aDefaultSorting[15]=new Array("MfgOrderProgressStatusName");this.aDefaultSorting[16]=new Array("MfgOrderProgressNextStatusName");this.aDefaultSorting[17]=new Array("DurationToNextStatusInDays");this.aDefaultSorting[18]=new Array("DurationToReleaseInWorkdays");this.aDefaultSorting[19]=new Array("DurationToStartInWorkdays");this.aDefaultSorting[20]=new Array("DurationToFinishInWorkdays");this.aDefaultSorting[21]=new Array("DurationToGRInWorkdays");this.aDefaultSorting[22]=new Array("DurnPlndStatusToTodayInWrkdays")},getViewNumber:function(){return this.sViewNumber},getTableId:function(){return this.sViewNumber+"Table"},getShortageDefintionType:function(){return 1},getComponentName:function(){return"i2d.pp.prdorderissue.monitor"},getMasterEntity:function(){return"/ManufacturingOrders"},getMasterServiceEntity:function(){return"ManufacturingOrder"},getShortageEntitySetName:function(){return"MaterialShortageDefinitions"},getFilterPropertyName:function(){return"MaterialShortageDefinitionID"},getSelectFields:function(){},getSpecificAppFilter:function(){return null},getSingleSelectFacetFilter:function(){return["MaximumDelayInWorkDays","LatenessDurationInWorkDays","DurationToReleaseInWorkdays","DurationToNextStatusInWorkDays","DurationToStartInWorkdays","DurationToFinishInWorkdays","DurationToGRInWorkdays","DurnPlndStatusToTodayInWrkdays",]},getFacetFilterDefaults:function(){return["MaterialID","ManufacturingOrderType","MfgOrderProgressStatus","LatenessDurationInWorkDays","ProductionVersion","ProductionSupervisor","ProductionLine","MRPController","MRPPlant","MRPArea","MaximumDelayInWorkDays","MfgOrderProgressNextStatus","DurnPlndStatusToTodayInWrkdays","DurationToNextStatusInWorkDays","DurationToReleaseInWorkdays","DurationToStartInWorkdays","DurationToFinishInWorkdays","DurationToGRInWorkdays"]},getFacetFilterType:function(){return"5"},getInitialSelectFields:function(){var m=this.getMandatorySelectFields();var s=this.getBaseSelectFields();var a=m.concat(s);return a.join(",")},getMandatorySelectFields:function(){return new Array("MaterialExternalID","MaterialName","MfgOrderProblemCategory","MRPElementOpenQuantity","LatenessDurationInWorkDays","MfgOrderPlannedStartDate","MfgOrderPlannedEndDate","MfgOrderProgressStatus","MfgOrderProgressStatusName","DurationToNextStatusInDays","NumberOfComponentsWithProblems","MaximumDelayInWorkDays","DurnPlndStatusToTodayInWrkdays")},getBaseSelectFields:function(){var s=new Array("DynamicHorizonCode","MRPPlanningSegmentNumber","MRPPlanningSegmentType","MaterialShortageDefinitionID","ComponentShortageDefinitionID","MRPPlant","MRPArea","MaterialID","MRPElementCategory","MRPController","UnitOfMeasureTechnicalName","TargetQuantityUnitDcmls","LateSupplyEarliestDemandDate","MRPElementCategory","MRPElement");if(this.extHookGetBaseSelectFields){this.extHookGetBaseSelectFields(s)}return s},getVariantContainerPrefix:function(){if(this.sOrderCategory){if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD){return"MRPProductionOrderItem"}else if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){return"MRPProcessOrderItem"}}else{return"MRPProductionOrderItem"}},getObjectHeaderTitle:function(){if(this.sOrderCategory){if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD){return this.oResourceBundle.getText("ObjectHeaderTitle")}else if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){return this.oResourceBundle.getText("ObjectHeaderTitle_PROC")}}else{return this.oResourceBundle.getText("ObjectHeaderTitle")}},getNumberUnit:function(){if(this.sOrderCategory){if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD){return this.oResourceBundle.getText("NumberUnit")}else if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){return this.oResourceBundle.getText("NumberUnit_PROC")}}else{return this.oResourceBundle.getText("NumberUnit")}},getMonitorAppIcon:function(){return"sap-icon://Fiori5/F0266"},getManageAppIcon:function(){return"sap-icon://Fiori5/F0273"},getNavigationTarget:function(){return{semanticObject:"MRPProductionOrderItem",action:"manage"}},getNavigationParams:function(){var s=this.getView().byId(this.getTableId()).getSelectedItems();var m=s[0].getBindingContext().getProperty("MaterialShortageDefinitionID");var c=s[0].getBindingContext().getProperty("ComponentShortageDefinitionID");var M=new Array();var a=new Array();var b=new Array();var d=new Array();var e=new Array();var f=new Array();var g=new Array();for(var i=0;i<s.length;i++){var h=s[i].getBindingContext().getProperty("MaterialID");M.push(h);var j=s[i].getBindingContext().getProperty("MRPArea");a.push(j);var k=s[i].getBindingContext().getProperty("MRPElement");b.push(k);var l=s[i].getBindingContext().getProperty("MRPElementCategory");d.push(l);var n=s[i].getBindingContext().getProperty("MRPPlanningSegmentNumber");e.push(n);var o=s[i].getBindingContext().getProperty("MRPPlanningSegmentType");f.push(o);var p=s[i].getBindingContext().getProperty("MRPPlant");g.push(p)};var P={"MaterialShortageDefinitionID":m,"ComponentShortageDefinitionID":c,"MaterialID":M,"MRPArea":a,"MRPElement":b,"MRPElementCategory":d,"MRPPlanningSegmentNumber":e,"MRPPlanningSegmentType":f,"MRPPlant":g,"OrderCategory":this.sOrderCategory};return P},_changeAppName:function(r){if(r===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD){this.masterTitle="FULLSCREEN_TITLE";this.getView().byId("ObjectHeader").setNumberUnit(this.oResourceBundle.getText("NumberUnit"))}if(r===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){this.masterTitle="FULLSCREEN_TITLE_PROC";this.getView().byId("ObjectHeader").setNumberUnit(this.oResourceBundle.getText("NumberUnit_PROC"))}this.oHeaderFooterOptions.sI18NFullscreenTitle=this.masterTitle;this.setHeaderFooterOptions(this.oHeaderFooterOptions)}});
